{"ast":null,"code":"import watermark from 'watermarkjs';\nexport default {\n  methods: {\n    handleFileUpload(event) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n      reader.onload = event => {\n        const img = new Image();\n        img.onload = () => {\n          const canvas = this.$refs.canvas;\n          const context = canvas.getContext('2d');\n          context.drawImage(img, 0, 0, canvas.width, canvas.height);\n          watermark([canvas, img]).image(watermark.text.lowerRight('My Watermark', '30px Arial', '#fff', 0.5)).then(img => {\n            context.drawImage(img, 0, 0, canvas.width, canvas.height);\n          });\n        };\n        img.src = event.target.result;\n      };\n      reader.readAsDataURL(file);\n    }\n  }\n};","map":{"version":3,"names":["watermark","methods","handleFileUpload","event","file","target","files","reader","FileReader","onload","img","Image","canvas","$refs","context","getContext","drawImage","width","height","image","text","lowerRight","then","src","result","readAsDataURL"],"sources":["/Users/emperinter/app/HTML/watermark-vue/src/components/ImageWatermark.vue"],"sourcesContent":["   <template>\n     <div>\n       <input type=\"file\" @change=\"handleFileUpload\">\n       <canvas ref=\"canvas\"></canvas>\n     </div>\n   </template>\n\n   <script>\n   import watermark from 'watermarkjs';\n\n   export default {\n     methods: {\n       handleFileUpload(event) {\n         const file = event.target.files[0];\n         const reader = new FileReader();\n\n         reader.onload = (event) => {\n           const img = new Image();\n           img.onload = () => {\n             const canvas = this.$refs.canvas;\n             const context = canvas.getContext('2d');\n             context.drawImage(img, 0, 0, canvas.width, canvas.height);\n             watermark([canvas, img])\n               .image(watermark.text.lowerRight('My Watermark', '30px Arial', '#fff', 0.5))\n               .then((img) => {\n                 context.drawImage(img, 0, 0, canvas.width, canvas.height);\n               });\n           };\n           img.src = event.target.result;\n         };\n\n         reader.readAsDataURL(file);\n       },\n     },\n   };\n   </script>\n"],"mappings":"AAQG,OAAOA,SAAQ,MAAO,aAAa;AAEnC,eAAe;EACbC,OAAO,EAAE;IACPC,gBAAgBA,CAACC,KAAK,EAAE;MACtB,MAAMC,IAAG,GAAID,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAClC,MAAMC,MAAK,GAAI,IAAIC,UAAU,CAAC,CAAC;MAE/BD,MAAM,CAACE,MAAK,GAAKN,KAAK,IAAK;QACzB,MAAMO,GAAE,GAAI,IAAIC,KAAK,CAAC,CAAC;QACvBD,GAAG,CAACD,MAAK,GAAI,MAAM;UACjB,MAAMG,MAAK,GAAI,IAAI,CAACC,KAAK,CAACD,MAAM;UAChC,MAAME,OAAM,GAAIF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;UACvCD,OAAO,CAACE,SAAS,CAACN,GAAG,EAAE,CAAC,EAAE,CAAC,EAAEE,MAAM,CAACK,KAAK,EAAEL,MAAM,CAACM,MAAM,CAAC;UACzDlB,SAAS,CAAC,CAACY,MAAM,EAAEF,GAAG,CAAC,EACpBS,KAAK,CAACnB,SAAS,CAACoB,IAAI,CAACC,UAAU,CAAC,cAAc,EAAE,YAAY,EAAE,MAAM,EAAE,GAAG,CAAC,EAC1EC,IAAI,CAAEZ,GAAG,IAAK;YACbI,OAAO,CAACE,SAAS,CAACN,GAAG,EAAE,CAAC,EAAE,CAAC,EAAEE,MAAM,CAACK,KAAK,EAAEL,MAAM,CAACM,MAAM,CAAC;UAC3D,CAAC,CAAC;QACN,CAAC;QACDR,GAAG,CAACa,GAAE,GAAIpB,KAAK,CAACE,MAAM,CAACmB,MAAM;MAC/B,CAAC;MAEDjB,MAAM,CAACkB,aAAa,CAACrB,IAAI,CAAC;IAC5B;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}