{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  ref: \"canvas\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[0] || (_cache[0] = (...args) => $options.handleFileUpload && $options.handleFileUpload(...args))\n  }, null, 32 /* HYDRATE_EVENTS */), _createElementVNode(\"canvas\", _hoisted_1, null, 512 /* NEED_PATCH */)]);\n}","map":{"version":3,"names":["ref","_createElementBlock","_createElementVNode","type","onChange","_cache","args","$options","handleFileUpload","_hoisted_1"],"sources":["/Users/emperinter/app/HTML/watermark-vue/src/components/ImageWatermark.vue"],"sourcesContent":["   <template>\n     <div>\n       <input type=\"file\" @change=\"handleFileUpload\">\n       <canvas ref=\"canvas\"></canvas>\n     </div>\n   </template>\n\n   <script>\n   import watermark from 'watermarkjs';\n\n   export default {\n     methods: {\n       handleFileUpload(event) {\n         const file = event.target.files[0];\n         const reader = new FileReader();\n\n         reader.onload = (event) => {\n           const img = new Image();\n           img.onload = () => {\n             const canvas = this.$refs.canvas;\n             const context = canvas.getContext('2d');\n             context.drawImage(img, 0, 0, canvas.width, canvas.height);\n             watermark([canvas, img])\n               .image(watermark.text.lowerRight('My Watermark', '30px Arial', '#fff', 0.5))\n               .then((img) => {\n                 context.drawImage(img, 0, 0, canvas.width, canvas.height);\n               });\n           };\n           img.src = event.target.result;\n         };\n\n         reader.readAsDataURL(file);\n       },\n     },\n   };\n   </script>\n"],"mappings":";;EAGeA,GAAG,EAAC;AAAQ;;uBAFtBC,mBAAA,CAGM,cAFJC,mBAAA,CAA8C;IAAvCC,IAAI,EAAC,MAAM;IAAEC,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,gBAAA,IAAAD,QAAA,CAAAC,gBAAA,IAAAF,IAAA,CAAgB;qCAC5CJ,mBAAA,CAA8B,UAA9BO,UAA8B,8B"},"metadata":{},"sourceType":"module","externalDependencies":[]}